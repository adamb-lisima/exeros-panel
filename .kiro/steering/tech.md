# Tech Stack & Build

## Core Technologies

- Angular 15 (TypeScript 4.9)
- NgRx 15 (Store + Effects) for state management
- RxJS 7.5 for reactive programming
- Angular Material 15 + CDK for UI components
- Tailwind CSS 3 + SCSS for styling
- Luxon for date/time handling (with Angular Material Luxon adapter)

## Key Libraries

- ApexCharts + ng-apexcharts for charts
- D3 (d3-scale, d3-shape) for custom visualizations
- Google Maps API (@angular/google-maps, @googlemaps/markerclustererplus)
- Pusher (pusher-js) + ngx-socket-io for real-time communication
- lodash-es for utility functions
- @rx-angular/cdk and @rx-angular/template for reactive Angular patterns

## Build System

- Angular CLI 15 (`@angular-devkit/build-angular:browser`)
- Karma + Jasmine for unit testing
- ESLint with Angular, Prettier, RxJS, and unused-imports plugins
- Prettier for code formatting

## Common Commands

```bash
# Development
npm run start              # Main app (port 4200)
npm run start:parent       # Parent shell (port 4201)
npm run start:player       # Standalone player (port 4202)
npm run start:iframe-api-docs  # API docs (port 4203)

# Build
npm run build              # Main app (dev)
npm run build_prod         # Main app (production)
npm run build_staging      # Main app (staging)
npm run build:parent       # Parent shell
npm run build:player       # Standalone player
npm run build:iframe-api-docs  # API docs

# Quality
npm run test               # Unit tests (Karma + Jasmine)
npm run lint               # ESLint
npx prettier --write .     # Format all files
```

## Code Style Rules

- Prettier config: 2-space indent, single quotes, no trailing commas, semicolons, arrow parens "avoid", effectively no line-length limit
- ESLint enforces: no unused imports, `takeUntil`/`untilDestroyed` pattern for RxJS subscriptions (`rxjs-angular/prefer-takeuntil`), Angular-recommended rules
- All Angular schematics default to `OnPush` change detection, SCSS styles, and `skipTests: true`
- Component prefix: `app` (main), `parent`, `player`, `iframe-api-docs` per sub-app

## Environment Configuration

- Environment files in `src/environments/`
- `environment.ts` (local dev), `environment.staging.ts`, `environment.prod.ts`
- Runtime config via `environment.json` generated by CI script
