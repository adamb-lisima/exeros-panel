<div class="h-full flex flex-col gap-4">
  <ng-container *ngIf="isVehicleOffline">
    <div class="p-3 overflow-y-auto mb-2">
      <p class="font-medium">The device is offline</p>
    </div>
  </ng-container>

  <div *ngIf="!isVehicleOffline">
    <div class="w-full grid grid-cols-2 gap-2 p-2">
      <ng-container *ngIf="playbackVideoSources$ | async as playbackVideoSources">
        <app-smax-video-h265 *ngFor="let camera of playbackVideoSources; trackByField: 'channel'; let i = index" [showControls]="false" class="w-full" [ngClass]="{ 'col-span-2': playbackVideoSources.length <= 2 || (playbackVideoSources.length % 2 === 1 && i === playbackVideoSources.length - 1), 'h-full': selectedStream === 'sub_stream', 'h-auto': selectedStream === 'main_stream' }" [source]="camera" (stateChange)="handleStateChange(i, $event, playbackVideoSources)" (loadError)="handleLoadError(camera.channel, $event)" (loadStart)="handleLoadStart(camera.channel)"> </app-smax-video-h265>
      </ng-container>
    </div>
  </div>
</div>
