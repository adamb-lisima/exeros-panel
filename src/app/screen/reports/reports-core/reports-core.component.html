<div class="flex flex-col gap-4">
  <div class="grid grid-cols-4 auto-rows-max gap-4">
    <ng-template #mileageTpl *appHasPermission="[[accessGroup.MILEAGE_REPORTS_VIEWER]]">
      <div [ngClass]="{ 'col-span-2': hasVehicleIssues, 'col-span-4': !hasVehicleIssues, 'h-[390px]': hasDrivingTime, 'h-[796px]': !hasDrivingTime }" class="exeros-fragment row-start-1 h-[390px]">
        <app-reports-core-mileage></app-reports-core-mileage>
      </div>
    </ng-template>

    <ng-template #drivingTimeTpl *appHasPermission="[[accessGroup.DRIVING_TIME_REPORTS_VIEWER]]">
      <div [ngClass]="{ 'col-span-2': hasVehicleIssues, 'col-span-4': !hasVehicleIssues, 'h-[390px]': hasMileage, 'h-[796px]': !hasMileage }" class="exeros-fragment row-start-2">
        <app-reports-core-driving-time></app-reports-core-driving-time>
      </div>
    </ng-template>

    <ng-template #vehicleIssuesTpl *appHasPermission="[[accessGroup.VEHICLE_ISSUES_REPORTS_VIEWER]]">
      <div class="exeros-fragment row-start-1 row-end-3 h-[796px] col-span-2">
        <app-reports-core-vehicle-issues></app-reports-core-vehicle-issues>
      </div>
    </ng-template>

    <ng-template #distanceDrivenTpl *appHasPermission="[[accessGroup.DISTANCE_DRIVEN_REPORTS_VIEWER]]">
      <div [ngClass]="{ 'col-span-2': hasEvents, 'col-span-4': !hasEvents }" class="exeros-fragment row-start-3 h-[627px]">
        <app-reports-core-distance-driven></app-reports-core-distance-driven>
      </div>
    </ng-template>

    <ng-template #eventsTpl *appHasPermission="[[accessGroup.EVENTS_REPORTS_VIEWER]]">
      <div [ngClass]="{ 'col-span-2': hasDistanceDriven, 'col-span-4': !hasDistanceDriven }" class="exeros-fragment row-start-3 h-[627px]">
        <app-reports-core-vehicles-events></app-reports-core-vehicles-events>
      </div>
    </ng-template>

    <ng-template #alarmsTpl *appHasPermission="[[accessGroup.ALARMS_REPORTS_VIEWER]]">
      <div class="exeros-fragment row-start-4 col-span-4 h-[627px]">
        <app-reports-core-vehicles-alarms></app-reports-core-vehicles-alarms>
      </div>
    </ng-template>

    <ng-template #accidentsTpl *appHasPermission="[[accessGroup.ACCIDENTS_REPORTS_VIEWER]]">
      <div [ngClass]="{ 'col-span-1': hasTrips, 'col-span-4': !hasTrips }" class="exeros-fragment row-start-5 h-[676px]">
        <app-reports-core-accidents></app-reports-core-accidents>
      </div>
    </ng-template>

    <ng-template #tripsTpl *appHasPermission="[[accessGroup.TRIPS_REPORTS_VIEWER]]">
      <div [ngClass]="{ 'col-span-3': hasAccidents, 'col-span-4': !hasAccidents }" class="exeros-fragment row-start-5 h-[676px]">
        <app-reports-core-trips></app-reports-core-trips>
      </div>
    </ng-template>

    <ng-template #vehicleChecksTpl *appHasPermission="[[accessGroup.VEHICLES_CHECKS_REPORTS_VIEWER]]">
      <div [ngClass]="{ 'col-span-2': hasOnlineStatus, 'col-span-4': !hasOnlineStatus }" class="exeros-fragment row-start-6 h-[627px]">
        <app-reports-core-vehicles-checks></app-reports-core-vehicles-checks>
      </div>
    </ng-template>

    <ng-template #onlineStatusTpl *appHasPermission="[[accessGroup.VEHICLE_ONLINE_STATUS_REPORTS_VIEWER]]">
      <div [ngClass]="{ 'col-span-2': hasVehicleChecks, 'col-span-4': !hasVehicleChecks }" class="exeros-fragment row-start-6 h-[627px]">
        <app-reports-core-vehicle-online-status></app-reports-core-vehicle-online-status>
      </div>
    </ng-template>

    <ng-template #userLogsTpl *appHasPermission="[[accessGroup.USER_LOGS_REPORTS_VIEWER]]">
      <div class="exeros-fragment row-start-7 col-span-4 h-[627px]">
        <app-reports-core-user-logs></app-reports-core-user-logs>
      </div>
    </ng-template>

    <ng-container *ngTemplateOutlet="mileageTpl"></ng-container>
    <ng-container *ngTemplateOutlet="drivingTimeTpl"></ng-container>
    <ng-container *ngTemplateOutlet="vehicleIssuesTpl"></ng-container>
    <ng-container *ngTemplateOutlet="distanceDrivenTpl"></ng-container>
    <ng-container *ngTemplateOutlet="eventsTpl"></ng-container>
    <ng-container *ngTemplateOutlet="alarmsTpl"></ng-container>
    <ng-container *ngTemplateOutlet="accidentsTpl"></ng-container>
    <ng-container *ngTemplateOutlet="tripsTpl"></ng-container>
    <ng-container *ngTemplateOutlet="vehicleChecksTpl"></ng-container>
    <ng-container *ngTemplateOutlet="onlineStatusTpl"></ng-container>
    <ng-container *ngTemplateOutlet="userLogsTpl"></ng-container>
  </div>
</div>
